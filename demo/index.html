<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="libs/highlight_styles/monokai.css">
    <script src="libs/highlight.pack.js"></script>
    <title>Demo</title>
    <style>
        body {
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>

<div class="navbar-fixed">
    <nav class="teal">
        <div class="container">
            <div class="nav-wrapper">
                <a href="#" class="brand-logo">PIXI Transition Manager</a>
                <ul class="right">
                    <li><a href="#">Github</a></li>
                </ul>
            </div>
        </div>
    </nav>
</div>

<div class="container" style="margin-top: 20px;">
    <div class="row">

        <div class="col s2">
            <div class="left">
                <div class="row">
                    <button class="waves-effect waves-light btn">Demo 1</button>
                </div>
                <div class="row">
                    <button class="waves-effect waves-light btn">Demo 2</button>
                </div>
                <div class="row">
                    <button class="waves-effect waves-light btn">Demo 3</button>
                </div>
            </div>
        </div>

        <div class="col s10">
            <div class="card-panel hoverable">
            <iframe
                    style="border:none"
                    width="1000"
                    height="620"
                    src="https://serglider.github.io/pixi-scene-transition/demo/1/">
            </iframe>
            </div>
        </div>

    </div>

    <div class="row">
        <div class="col s10 offset-s2">
            <div class="card-panel teal">
        <span class="white-text">Click anywhere on the scenes to start a transition. Have fun to play with parameters.</span>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col s10 offset-s2">
            <pre><code class="javascript"></code></pre>
        </div>
    </div>
</div>

<footer class="page-footer teal">
    <div class="footer-copyright">
        <div class="container">
            Â© 2019 Sergey Chernykh
            <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
        </div>
    </div>
</footer>

<script>
    const buttons = document.querySelectorAll('button');
    const frame = document.querySelector('iframe');
    const code = document.querySelector('.javascript');
    buttons.forEach(b => b.addEventListener('click', onClick));

    function onClick(e) {
        const demoID = e.target.textContent.replace('Demo ', '');
        frame.src = location.href + demoID + '/index.html';
    }

    frame.onload = () => {
        const fc = frame.contentWindow.onFirstSceneClick.toString();
        const sc = frame.contentWindow.onSecondSceneClick.toString();
        const expl =
            ['/*',
                '* Before creating a transition, you need to initialize PIXI.SceneTransitionManager',
                '* by passing your renderer and tween library',
                '* (currently GSAP and Tween.js are supported).',
                '* PIXI.SceneTransitionManager.init(app.renderer, TweenMax);',
                '*/'];

        code.innerHTML = expl.join('\n') + '\n\n' + fc + '\n\n' + sc;

        hljs.highlightBlock(code);
    };

</script>

</body>
</html>