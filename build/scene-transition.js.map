{"version":3,"sources":["webpack://sceneTransition/webpack/universalModuleDefinition","webpack://sceneTransition/webpack/bootstrap","webpack://sceneTransition/./src/index.js","webpack://sceneTransition/./src/components/init.js","webpack://sceneTransition/./src/components/utils.js","webpack://sceneTransition/./src/components/createFadeTransition.js","webpack://sceneTransition/./src/components/createShapeTransition.js","webpack://sceneTransition/./src/components/createTransition.js","webpack://sceneTransition/./src/components/gsap-lib.js","webpack://sceneTransition/./src/components/tween-lib.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","PIXI","Error","SceneTransitionManager","init","renderer","tweenLib","this","_ticker","ticker","Ticker","stop","_tweenLibName","Tween","add","update","_tweenLib","_renderer","getRegions","_ref","width","height","_dims","_slicedToArray","arguments","length","undefined","columns","rows","h","Math","ceil","w","Array","from","_","x","y","floor","createFadeTransition","fromView","toView","common","fadeOut","fadeIn","bounds","commonOptions","assign","color","sprite","onFadeOut","fadeOutOptions","fadeInOptions","alpha","to","interimContainer","toIndex","parent","getChildIndex","container","Container","visible","addChildAt","fadeMask","Graphics","addChild","lineStyle","beginFill","drawRect","apply","_toConsumableArray","createFadeMask","fadeOutTrans","createTransition","fadeInTrans","start","then","createShapeTransition","createShapeTransition_toConsumableArray","data","container1","container2","_this","createTween","concat","startTween","isFrom","_getTransitionType","transitionContainer","tweens","map","item","_getSprite","anchor","rotation","scale","promises","Promise","all","destroy","resolve","_createGSAPTween","tweenKeys","keys","tweenObj","reduce","obj","duration","delay","ease","easing","vars","paused","onUpdate","forEach","set","_startGSAPTween","tw","eventCallback","play","_startTWEENTween","onComplete","_createTWEENTween","Easing","Linear","None","view","fromObj","texture","generateTexture","_construct","Rectangle","utils_toConsumableArray","Sprite","list","every"],"mappings":"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","file":"scene-transition.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"sceneTransition\"] = factory();\n\telse\n\t\troot[\"sceneTransition\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import init from './components/init';\r\nimport createFadeTransition from './components/createFadeTransition';\r\nimport createShapeTransition from './components/createShapeTransition';\r\nimport createTransition from './components/createTransition';\r\nimport {\r\n    _createGSAPTween,\r\n    _startGSAPTween\r\n} from './components/gsap-lib';\r\nimport {\r\n    _createTWEENTween,\r\n    _startTWEENTween\r\n} from './components/tween-lib';\r\nimport {\r\n    _getSprite,\r\n    _getTransitionType,\r\n    getRegions\r\n} from './components/utils';\r\n\r\nif (!PIXI) {\r\n    throw new Error('This component does not work without PIXI');\r\n}\r\n\r\nPIXI.SceneTransitionManager = {\r\n    init,\r\n    getRegions,\r\n    createFadeTransition,\r\n    createShapeTransition,\r\n    createTransition,\r\n\r\n    _createGSAPTween,\r\n    _startGSAPTween,\r\n    _startTWEENTween,\r\n    _createTWEENTween,\r\n    _getSprite,\r\n    _getTransitionType,\r\n};\r\n\r\n","export default function init(renderer, tweenLib) {\r\n\r\n    this._ticker = new PIXI.ticker.Ticker();\r\n    this._ticker.stop();\r\n    this._tweenLibName = tweenLib.Tween ? 'TWEEN' : 'GSAP';\r\n    if (this._tweenLibName === 'TWEEN') {\r\n        this._ticker.add(() => {\r\n            tweenLib.update();\r\n        });\r\n    }\r\n    this._tweenLib = tweenLib;\r\n    this._renderer = renderer;\r\n}\r\n","export function _getSprite(view, anchor, bounds, fromObj) {\r\n    const texture = this._renderer.generateTexture(view, 0, 1, new PIXI.Rectangle(...bounds));\r\n    const sprite = new PIXI.Sprite(texture);\r\n    if (anchor) {\r\n        sprite.anchor.set(anchor);\r\n    }\r\n    if (fromObj) {\r\n        Object.keys(fromObj).forEach(key => {\r\n            if (key === 'scale') {\r\n                sprite.scale.set(fromObj[key]);\r\n            } else {\r\n                sprite[key] = fromObj[key];\r\n            }\r\n        });\r\n    } else {\r\n        sprite.x = bounds[0] + bounds[2] * sprite.anchor.x;\r\n        sprite.y = bounds[1] + bounds[3] * sprite.anchor.y;\r\n    }\r\n\r\n\r\n    return sprite;\r\n}\r\n\r\nexport function _getTransitionType(list) {\r\n    return list.every(item => item.from);\r\n}\r\n\r\nexport function getRegions({width, height}, dims = [1, 1]) {\r\n    const [columns, rows] = dims;\r\n    if (!columns || !rows) return [];\r\n    const h = Math.ceil(height / rows);\r\n    const w = Math.ceil(width / columns);\r\n    return Array.from(Array(columns * rows), getBounds);\r\n\r\n    function getBounds(_, i) {\r\n        const x = i % columns * w;\r\n        const y = Math.floor(i / columns) * h;\r\n        return [x, y, w, h];\r\n    }\r\n}\r\n","export default function createFadeTransition(fromView, toView, common = {}, fadeOut = {}, fadeIn = {}) {\r\n    const {width, height} = fromView;\r\n    const bounds = [0, 0, width, height];\r\n    const defaults = {\r\n        color: 0x000000,\r\n        sprite: null,\r\n        onFadeOut: () => {}\r\n    };\r\n    const commonOptions = Object.assign({}, defaults, common);\r\n    const fadeOutOptions = Object.assign({}, commonOptions, fadeOut);\r\n    const fadeInOptions = Object.assign({}, commonOptions, fadeIn);\r\n    fadeOutOptions.bounds = fadeInOptions.bounds = bounds;\r\n    fadeOutOptions.from = {alpha: 0};\r\n    fadeInOptions.to = {alpha: 0};\r\n\r\n    const interimContainer = createFadeMask(fromView, bounds, commonOptions.color);\r\n    const fadeOutTrans = this.createTransition(fromView, interimContainer, [fadeOutOptions]);\r\n    const fadeInTrans = this.createTransition(interimContainer, toView, [fadeInOptions]);\r\n\r\n    return {\r\n        start: () => {\r\n            return fadeOutTrans.start().then(() => {\r\n                commonOptions.onFadeOut();\r\n                return fadeInTrans.start()\r\n            });\r\n        }\r\n    };\r\n}\r\n\r\nfunction createFadeMask(fromView, bounds, color) {\r\n    const toIndex = fromView.parent.getChildIndex(fromView);\r\n    const container = new PIXI.Container();\r\n    container.visible = false;\r\n    fromView.parent.addChildAt(container, toIndex + 1);\r\n    const fadeMask = new PIXI.Graphics();\r\n    container.addChild(fadeMask);\r\n    fadeMask.lineStyle(0);\r\n    fadeMask.beginFill(color);\r\n    fadeMask.drawRect(...bounds);\r\n    return container;\r\n}\r\n","export default function createShapeTransition(fromView, toView, common = {}, fadeOut = {}, fadeIn = {}) {\r\n    const {width, height} = fromView;\r\n    const bounds = [0, 0, width, height];\r\n    const defaults = {\r\n        color: 0x000000,\r\n        sprite: null\r\n    };\r\n    const commonOptions = Object.assign({}, defaults, common);\r\n    const fadeOutOptions = Object.assign({}, commonOptions, fadeOut);\r\n    const fadeInOptions = Object.assign({}, commonOptions, fadeIn);\r\n    fadeOutOptions.bounds = fadeInOptions.bounds = bounds;\r\n    fadeOutOptions.from = {alpha: 0};\r\n    fadeInOptions.to = {alpha: 0};\r\n\r\n    const interimContainer = createFadeMask(fromView, bounds, commonOptions.color);\r\n    const fadeOutTrans = this.createTransition(fromView, interimContainer, [fadeOutOptions]);\r\n    const fadeInTrans = this.createTransition(interimContainer, toView, [fadeInOptions]);\r\n\r\n    return {\r\n        start: () => {\r\n            return fadeOutTrans.start().then(() => fadeInTrans.start());\r\n        }\r\n    };\r\n}\r\n\r\nfunction createFadeMask(fromView, bounds, color) {\r\n    const toIndex = fromView.parent.getChildIndex(fromView);\r\n    const container = new PIXI.Container();\r\n    container.visible = false;\r\n    fromView.parent.addChildAt(container, toIndex + 1);\r\n    const fadeMask = new PIXI.Graphics();\r\n    container.addChild(fadeMask);\r\n    fadeMask.lineStyle(0);\r\n    fadeMask.beginFill(color);\r\n    fadeMask.drawRect(...bounds);\r\n    return container;\r\n}","export default function createTransition(fromView, toView, data) {\r\n\r\n    const createTween = this[`_create${this._tweenLibName}Tween`].bind(this);\r\n    const startTween = this[`_start${this._tweenLibName}Tween`].bind(this);\r\n\r\n    const isFrom = this._getTransitionType(data);\r\n\r\n    let container1, container2;\r\n    if (!isFrom) {\r\n        container1 = fromView;\r\n        container2 = toView;\r\n    } else {\r\n        container1 = toView;\r\n        container2 = fromView;\r\n    }\r\n\r\n    const toIndex = container2.parent.getChildIndex(container2);\r\n    const transitionContainer = new PIXI.Container();\r\n    container2.parent.addChildAt(transitionContainer, toIndex + 1);\r\n    transitionContainer.visible = false;\r\n    container1.visible = true;\r\n    const tweens = data.map(item => {\r\n        const sprite = this._getSprite(container1, item.anchor, item.bounds, item.from);\r\n        if (item.from) {\r\n            item.to = {\r\n                x: item.bounds[0] + item.bounds[2] * sprite.anchor.x,\r\n                y: item.bounds[1] + item.bounds[3] * sprite.anchor.y,\r\n                alpha: 1,\r\n                rotation: 0,\r\n                scale: 1\r\n            };\r\n        }\r\n        transitionContainer.addChild(sprite);\r\n        return createTween(sprite, item);\r\n    });\r\n\r\n    return {\r\n        start: () => {\r\n            container1.visible = false;\r\n            transitionContainer.visible = true;\r\n            container2.visible = true;\r\n            this._ticker.start();\r\n            const promises = tweens.map(startTween);\r\n            return Promise.all(promises).then(() => {\r\n                if (isFrom) {\r\n                    container1.visible = true;\r\n                    container2.visible = false;\r\n                }\r\n                this._ticker.stop();\r\n                transitionContainer.destroy(true);\r\n                return Promise.resolve();\r\n            });\r\n        }\r\n    };\r\n}\r\n","export function _createGSAPTween(sprite, data) {\r\n    const tweenKeys = Object.keys(data.to);\r\n    const tweenObj = tweenKeys.reduce(addToTweenObj, {});\r\n    const duration = data.duration / 1000 || 0.5;\r\n    const delay = data.delay / 1000 || 0;\r\n    const ease = data.easing || 'Linear.easeNone';\r\n    const vars = Object.assign({}, data.to, {\r\n        paused: true,\r\n        delay,\r\n        ease,\r\n        onUpdate: update\r\n    });\r\n    return this._tweenLib.to(tweenObj, duration, vars);\r\n\r\n    function addToTweenObj(obj, key) {\r\n        if (key === 'scale') {\r\n            obj[key] = data.from && ('scale' in data.from) ? data.from.scale : 1;\r\n        } else {\r\n            obj[key] = sprite[key];\r\n        }\r\n        return obj;\r\n    }\r\n\r\n    function update() {\r\n        tweenKeys.forEach(key => {\r\n            if (key === 'scale') {\r\n                sprite.scale.set(tweenObj[key]);\r\n            } else {\r\n                sprite[key] = tweenObj[key];\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function _startGSAPTween(tw) {\r\n    return new Promise(resolve => {\r\n        tw.eventCallback('onComplete', resolve);\r\n        tw.play();\r\n    });\r\n}","export function _createTWEENTween(sprite, data) {\r\n    const tweenKeys = Object.keys(data.to);\r\n    const tweenObj = tweenKeys.reduce(addToTweenObj, {});\r\n    const delay = data.delay || 0;\r\n    const duration = data.duration || 500;\r\n    const easing = data.easing || this._tweenLib.Easing.Linear.None;\r\n    return new this._tweenLib.Tween(tweenObj)\r\n        .to(data.to, duration)\r\n        .onUpdate(update)\r\n        .delay(delay)\r\n        .easing(easing);\r\n\r\n    function addToTweenObj(obj, key) {\r\n        if (key === 'scale') {\r\n            obj[key] = data.from && ('scale' in data.from) ? data.from.scale : 1;\r\n        } else {\r\n            obj[key] = sprite[key];\r\n        }\r\n        return obj;\r\n    }\r\n\r\n    function update() {\r\n        tweenKeys.forEach(key => {\r\n            if (key === 'scale') {\r\n                sprite.scale.set(tweenObj[key]);\r\n            } else {\r\n                sprite[key] = tweenObj[key];\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function _startTWEENTween(tw) {\r\n    return new Promise(resolve => {\r\n        tw.onComplete(resolve).start();\r\n    });\r\n}"],"sourceRoot":""}